"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{2936:(e,a,s)=>{s.d(a,{s:()=>t});function t(e,a){let s,t;return s=this,t=function*(){if("undefined"==typeof window)return void console.error("Aptabase: to track events in the main process you must import 'trackEvent' from '@aptabase/electron/main'.");try{yield fetch("aptabase-ipc://trackEvent",{method:"POST",body:JSON.stringify({eventName:e,props:a})})}catch(e){console.error("Aptabase: Failed to send event",e)}},new Promise((e,a)=>{var l=e=>{try{r(t.next(e))}catch(e){a(e)}},n=e=>{try{r(t.throw(e))}catch(e){a(e)}},r=a=>a.done?e(a.value):Promise.resolve(a.value).then(l,n);r((t=t.apply(s,null)).next())})}},5413:(e,a,s)=>{s.d(a,{A:()=>P});var t=s(6514),l=s(5834),n=s(6225),r=s(5022),i=s(6456),d=s.n(i),c=s(7513),o=s(4525),m=s(4783);let p=[{label:"types list",value:"types list",options:[{name:"--output",type:"argument",placeholder:"<OUTPUT>",description:"[default: plain] [possible values: plain, json, json-formatted]"},{name:"--help",type:"flag",description:"Print help"}]},{label:"guess",value:"guess",args:[],options:[{name:"--input",type:"argument",placeholder:"<INPUT>",description:"[default: single-base64] [possible values: single, single-base64, stream, stream-base64, stream-framed]"},{name:"--output",type:"argument",placeholder:"<OUTPUT>",description:"[default: list] [possible values: list]"},{name:"--certainty",type:"argument",placeholder:"<CERTAINTY>",description:"Certainty as an arbitrary value [default: 2]"},{name:"--help",type:"flag",description:"Print help"}]},{label:"decode",value:"decode",args:[],options:[{name:"--type",type:"argument",placeholder:"<TYPE>",description:"XDR type to decode"},{name:"--input",type:"argument",placeholder:"<INPUT>",description:"[default: stream-base64] [possible values: single, single-base64, stream, stream-base64, stream-framed]"},{name:"--output",type:"argument",placeholder:"<OUTPUT>",description:"[default: json] [possible values: json, json-formatted]"},{name:"--help",type:"flag",description:"Print help"}]},{label:"encode",value:"encode",args:[],options:[{name:"--type",type:"argument",placeholder:"<TYPE>",description:"XDR type to decode"},{name:"--input",type:"argument",placeholder:"<INPUT>",description:"[default: json] [possible values: json]"},{name:"--output",type:"argument",placeholder:"<OUTPUT>",description:"[default: single-base64] [possible values: single, single-base64]"},{name:"--help",type:"flag",description:"Print help"}]},{label:"version",value:"version",options:[{name:"--help",type:"flag",description:"Print help"}]}];var u=s(7020),h=s(2066),x=s(5773),f=s(1817),j=s(1728),v=s(4052),y=s(4606);let g=e=>{var a,s,n,r,i,d,g,b,N,w;let{initialCommand:C,latestCommand:k,setCommandOutput:P,setCommandError:A,setLatestCommand:E}=e,$=p.length>0?p[0].value:"",[O,S]=(0,l.useState)(C||$),[T,F]=(0,l.useState)({}),[U,_]=(0,l.useState)({}),[R,I]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(C){let[e,...a]=C.split(" "),s=a[2];S(s),V(s,a)}},[C]),(0,l.useEffect)(()=>{(()=>{let e=p.find(e=>e.value===O);if(!e)return E("");let a=Object.values(T).filter(e=>e).join(" "),s=Object.entries(U).filter(a=>{let[s,t]=a,l=e.options.find(e=>e.name===s);return l&&("flag"===l.type&&t||"argument"===l.type&&t)}).map(a=>{let[s,t]=a,l=e.options.find(e=>e.name===s);return l&&("flag"===l.type?"".concat(s):"".concat(s," ").concat(t))}).join(" ");window.sorobanApi.isSorobanInstalled().then(t=>{let l="soroban lab xdr";"object"==typeof t&&"stellar"===t.type&&(l="stellar xdr"),E("".concat(l," ").concat(e.value," ").concat(a," ").concat(s))}).catch(t=>{console.error("Error checking installation:",t),E("soroban lab xdr ".concat(e.value," ").concat(a," ").concat(s))})})()},[O,T,U]);let V=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];S(e);let s=p.find(a=>a.value===e);if(s&&s.args){let e={};s.args.forEach((s,t)=>{let l=a.find(e=>e.startsWith(s.name));e[s.name]=l?l.split(s.name)[1].trim():""}),F(e)}else F({});if(s&&s.options){let e={};s.options.forEach(s=>{let t=a.find(e=>e.startsWith(s.name));"flag"===s.type?e[s.name]=!!t:"argument"===s.type&&(e[s.name]=t?t.split(s.name)[1].trim():"")}),_(e)}else _({})},L=async()=>{I(!0);try{await z(O,Object.values(T)).then(()=>{})}catch(e){console.error("Error executing command:",e)}finally{I(!1)}},z=async(e,a)=>{try{let s=p.find(a=>a.value===e).options.reduce((e,a)=>{let s=U[a.name];return"flag"===a.type&&s?e.push("".concat(a.name)):"argument"===a.type&&s&&e.push("".concat(a.name),s),e},[]),t=a.map(e=>isNaN(e)?e:parseInt(e,10)),l="lab xdr",n=await window.sorobanApi.isSorobanInstalled();"object"==typeof n&&"stellar"===n.type&&(l="xdr");let r=await window.sorobanApi.runSorobanCommand(l,e,[...t],s);A(""),P(r)}catch(e){throw A("".concat(e.message)),P(""),e}};return(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:"bg-gray-200 dark:bg-white dark:text-black p-4 rounded-md mb-4",children:(0,t.jsx)("code",{children:C||k})}),(0,t.jsxs)(y.F,{className:"max-h-[calc(80vh-200px)] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,t.jsxs)(c.l6,{value:O,onValueChange:e=>V(e),children:[(0,t.jsx)(c.bq,{children:(0,t.jsx)(c.yv,{placeholder:"Select a contract command"})}),(0,t.jsx)(c.gC,{children:(0,t.jsx)(c.s3,{className:"h-[150px]",children:p.map(e=>(0,t.jsx)(c.eb,{value:e.value,children:e.label},e.value))})})]}),(0,t.jsxs)(j.nD,{type:"single",className:"w-full space-y-4",defaultValue:"options",children:[O&&(null==(s=p.find(e=>e.value===O))||null==(a=s.args)?void 0:a.length)>0&&(0,t.jsxs)(j.As,{value:"args",className:"border px-3 rounded-lg",children:[(0,t.jsx)(j.$m,{className:"text-sm",children:"Arguments"}),(0,t.jsxs)(j.ub,{children:[(0,t.jsx)(c.mi,{}),O&&(null==(r=p.find(e=>e.value===O))||null==(n=r.args)?void 0:n.map(e=>(0,t.jsxs)("div",{className:"space-y-2 my-4",children:[(0,t.jsxs)(v.m_,{children:[(0,t.jsx)("div",{className:"space-y-2 my-4",children:(0,t.jsxs)("div",{className:"flex items-center my-4",children:[(0,t.jsx)(h.J,{htmlFor:e.name,children:e.name}),(0,t.jsx)(v.k$,{asChild:!0,children:(0,t.jsx)("span",{className:"inline-block ml-1",children:(0,t.jsx)(x.tiF,{className:"h-4 w-4 text-gray-500"})})})]})}),(0,t.jsx)(v.ZI,{side:"right",children:(0,t.jsx)("p",{children:e.description||"No description available"})})]},e.name),(0,t.jsx)(m.p,{type:"text",id:e.name,value:T[e.name]||"",placeholder:e.placeholder||e.name,onChange:a=>{F({...T,[e.name]:a.target.value})}})]},e.name))),(0,t.jsx)(c.mi,{className:"-mt-4"})]})]}),O&&(null==(d=p.find(e=>e.value===O))||null==(i=d.options)?void 0:i.length)>0&&(0,t.jsxs)(j.As,{value:"options",className:"border px-3 rounded-lg",children:[(0,t.jsx)(j.$m,{className:"text-sm",children:"Options & Flags"}),(0,t.jsxs)(j.ub,{children:[(0,t.jsx)(c.mi,{}),(0,t.jsx)("div",{className:"flex flex-wrap -mx-2 my-3",children:O&&(null==(b=p.find(e=>e.value===O))||null==(g=b.options)?void 0:g.filter(e=>"flag"===e.type).map((e,a)=>(0,t.jsxs)("div",{className:"w-1/3 px-2 mb-4 space-x-2 items-center flex ".concat(a%3==0?"clear-left":""),children:[(0,t.jsx)(u.S,{id:e.name,checked:!!U[e.name],onCheckedChange:a=>{_({...U,[e.name]:a})}}),(0,t.jsxs)(v.m_,{children:[(0,t.jsx)(h.J,{htmlFor:e.name,children:e.name}),(0,t.jsx)(v.k$,{asChild:!0,children:(0,t.jsx)("span",{className:"inline-block ml-1",children:(0,t.jsx)(x.tiF,{className:"h-4 w-4 text-gray-500"})})}),(0,t.jsx)(v.ZI,{side:"right",children:(0,t.jsx)("p",{children:e.description||"No description available"})})]},e.name)]},e.name)))}),(0,t.jsx)(c.mi,{className:"-mt-4"}),O&&(null==(w=p.find(e=>e.value===O))||null==(N=w.options)?void 0:N.filter(e=>"argument"===e.type).map(e=>(0,t.jsxs)("div",{className:"space-y-2 my-4",children:[(0,t.jsx)(v.m_,{children:(0,t.jsxs)("div",{className:"flex items-center my-4",children:[(0,t.jsx)(h.J,{htmlFor:e.name,children:e.name}),(0,t.jsx)(v.k$,{asChild:!0,children:(0,t.jsx)("span",{className:"inline-block ml-1",children:(0,t.jsx)(x.tiF,{className:"h-4 w-4 text-gray-500"})})}),(0,t.jsx)(v.ZI,{side:"right",children:(0,t.jsx)("p",{children:e.description||"No description available"})})]})},e.name),(0,t.jsx)(m.p,{type:"text",id:e.name,value:U[e.name]||"",placeholder:e.placeholder||e.name,onChange:a=>{_({...U,[e.name]:a.target.value})}})]},e.name)))]})]})]})]}),(0,t.jsx)(y.$,{})]}),R?(0,t.jsxs)(o.$,{className:"mt-4",disabled:!0,children:[" ",(0,t.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Command Running..."]}):(0,t.jsx)(o.$,{className:O?"mt-4":"",onClick:L,children:"Run Command"})]})};function b(e){let{commandOutput:a,commandError:s}=e,[n,r]=(0,l.useState)("status");return(0,l.useEffect)(()=>{a||s?r("output"):r("status")},[a,s]),(0,t.jsxs)("div",{children:[a&&(0,t.jsx)("div",{className:"bg-gray-900 text-white p-4 rounded-md -mt-1",children:(0,t.jsxs)(y.F,{className:"h-[calc(80vh-106px)]",children:[(0,t.jsx)("pre",{className:"font-mono text-sm whitespace-pre-wrap overflow-x-auto",children:a.split("\n").map((e,a)=>(0,t.jsx)("div",{children:e.split(/(\s--[\w-]+(?:\s+<[\w_]+>)?|\s-\w(?:\s+<[\w_]+>)?)/g).map((e,a)=>e.trim().match(/^--[\w-]+(?:\s+<[\w_]+>)?$/)||e.trim().match(/^-\w(?:\s+<[\w_]+>)?$/)?(0,t.jsx)("span",{className:"text-blue-400",children:e},a):""===e.trim()?(0,t.jsx)("br",{},a):(0,t.jsx)("span",{children:e},a))},a))}),(0,t.jsx)(y.$,{})]})}),s&&(0,t.jsx)("div",{className:"bg-red-100 text-red-500 p-4 rounded-md -mt-1",children:(0,t.jsxs)(y.F,{className:"h-[calc(80vh-106px)]",children:[(0,t.jsx)("pre",{className:"font-mono text-sm whitespace-pre-wrap overflow-x-auto",children:s.split("\n").map((e,a)=>(0,t.jsx)("div",{children:e.split(/(\s--[\w-]+(?:\s+<[\w_]+>)?|\s-\w(?:\s+<[\w_]+>)?)/g).map((e,a)=>e.trim().match(/^--[\w-]+(?:\s+<[\w_]+>)?$/)||e.trim().match(/^-\w(?:\s+<[\w_]+>)?$/)?(0,t.jsx)("span",{className:"text-blue-400",children:e},a):""===e.trim()?(0,t.jsx)("br",{},a):(0,t.jsx)("span",{children:e},a))},a))}),(0,t.jsx)(y.$,{})]})})]})}var N=s(6126),w=s(2248),C=s(1061),k=s(5819);function P(){let[e,a]=(0,l.useState)(),[s,i]=(0,l.useState)(),[c,m]=(0,l.useState)(),[p,u]=(0,l.useState)(!1),{command:h}=(0,n.useRouter)().query,{toast:x}=(0,r.dj)();return(0,l.useEffect)(()=>{e&&!s?x({title:"Command Executed Successfully",description:(0,t.jsxs)("div",{children:[(0,t.jsx)("pre",{className:"bg-gray-100 text-black p-1 px-2 rounded-md mt-1",children:c}),(0,t.jsx)(o.$,{variant:"default",size:"sm",onClick:()=>u(!0),className:"mt-2",children:"View Output"})]}),variant:"default",className:"border-green-500"}):s&&x({title:"Command Execution Failed",description:(0,t.jsxs)("div",{children:[(0,t.jsx)("pre",{className:"bg-gray-100 text-black p-1 px-2 rounded-md mt-1",children:c}),(0,t.jsx)(o.$,{variant:"default",onClick:()=>u(!0),className:"mt-2",children:"View Output"})]}),variant:"default",className:"border-red-500"})},[e,s,x]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex flex-col w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between space-y-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(w.eu,{className:"mr-4 h-10 w-10",children:(0,t.jsx)(w.BK,{src:"https://avatar.vercel.sh/".concat(h,".png"),alt:"Avatar"})}),(0,t.jsx)("h2",{className:"font-bold",children:"XDR "})]}),(0,t.jsxs)("div",{className:"space-x-2 flex items-center",children:[(e||s)&&(0,t.jsxs)(C.lG,{open:p,onOpenChange:u,children:[(0,t.jsx)(C.zM,{asChild:!0,children:(0,t.jsxs)(o.$,{variant:"outline",children:[(0,t.jsx)(k.A,{className:"w-5 h-5 mr-2"}),"View Output"]})}),(0,t.jsxs)(C.Cf,{className:"min-w-[calc(70vw-106px)]",children:[(0,t.jsxs)(C.c7,{children:[(0,t.jsx)(C.L3,{children:"Command Output"}),(0,t.jsx)(C.rr,{className:"pt-2",children:(0,t.jsx)("pre",{className:"bg-white text-black shadow-lg border border-black p-2 pl-3 rounded-md",children:c})})]}),(0,t.jsx)(b,{commandOutput:e,commandError:s})]})]}),(0,t.jsx)(d(),{href:"/logs",children:(0,t.jsx)(o.$,{children:"View Command History"})})]})]}),(0,t.jsx)(N.w,{className:"w-full mb-4 -mx-4"}),(0,t.jsx)("div",{className:"flex flex-row w-full",children:(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)(g,{initialCommand:h,latestCommand:c,setCommandError:i,setCommandOutput:a,setLatestCommand:m})})})]})})}},5819:(e,a,s)=>{s.d(a,{A:()=>t});let t=(0,s(5606).A)("FileBox",[["path",{d:"M14.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"16lz6z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 13.1a2 2 0 0 0-1 1.76v3.24a2 2 0 0 0 .97 1.78L6 21.7a2 2 0 0 0 2.03.01L11 19.9a2 2 0 0 0 1-1.76V14.9a2 2 0 0 0-.97-1.78L8 11.3a2 2 0 0 0-2.03-.01Z",key:"99pj1s"}],["path",{d:"M7 17v5",key:"1yj1jh"}],["path",{d:"M11.7 14.2 7 17l-4.7-2.8",key:"1yk8tc"}]])},7513:(e,a,s)=>{s.d(a,{bq:()=>u,eb:()=>j,gC:()=>f,l6:()=>o,mi:()=>v,s3:()=>m,yv:()=>p});var t=s(6514),l=s(5834),n=s(2357),r=s(107),i=s(9854),d=s(1007),c=s(7588);let o=n.bL,m=n.YJ,p=n.WT,u=l.forwardRef((e,a)=>{let{className:s,children:l,...i}=e;return(0,t.jsxs)(n.l9,{ref:a,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[l,(0,t.jsx)(n.In,{asChild:!0,children:(0,t.jsx)(r.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=n.l9.displayName;let h=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(n.PP,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=n.PP.displayName;let x=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(n.wn,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,t.jsx)(r.A,{className:"h-4 w-4"})})});x.displayName=n.wn.displayName;let f=l.forwardRef((e,a)=>{let{className:s,children:l,position:r="popper",...i}=e;return(0,t.jsx)(n.ZL,{children:(0,t.jsxs)(n.UC,{ref:a,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...i,children:[(0,t.jsx)(h,{}),(0,t.jsx)(n.LM,{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(x,{})]})})});f.displayName=n.UC.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(n.JU,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...l})}).displayName=n.JU.displayName;let j=l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(n.q7,{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(n.VF,{children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})}),(0,t.jsx)(n.p4,{children:l})]})});j.displayName=n.q7.displayName;let v=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(n.wv,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...l})});v.displayName=n.wv.displayName}}]);