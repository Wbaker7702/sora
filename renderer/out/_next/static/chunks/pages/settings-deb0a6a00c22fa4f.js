(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{433:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>z});var n=s(6514),a=s(5834),l=s(4322),t=s.n(l),c=s(1728),o=s(5963),i=s(1061),d=s(6307),x=s(7020),h=s(2248),m=s(4869),p=s(4525),u=s(4783),j=s(1817),f=s(7754),w=s(9970),v=s(2428),g=s(4606),N=s(6212);let y=N.Ik({network_name:N.Yj().min(3,"Network name must be at least 3 characters long.").max(50,"Network name must be at most 50 characters long.").regex(/^[A-Za-z0-9]+$/,"Network name must include only letters and numbers, no special characters or spaces."),rpc_url:N.Yj().url("RPC URL must be a valid URL."),network_passphrase:N.Yj().min(1,"Network passphrase is required."),global:N.zM().optional(),config_dir:N.Yj().optional()});async function b(e){try{let r=[e.network_name],s=['--rpc-url "'.concat(e.rpc_url,'"'),'--network-passphrase "'.concat(e.network_passphrase,'"'),e.global?"--global":null,e.config_dir?'--config-dir "'.concat(e.config_dir,'"'):null].filter(Boolean);await window.sorobanApi.runSorobanCommand("network","add",r,s),await window.sorobanApi.reloadApplication()}catch(e){throw e}}var k=s(5022),C=s(5423);function _(e){let{showNewNetworkDialog:r,setShowNewNetworkDialog:s,onNetworkChange:l}=e,[t,d]=(0,a.useState)(!1),{toast:h}=(0,k.dj)(),m=(0,f.mN)({resolver:(0,w.u)(y),defaultValues:{global:!1}}),v=async e=>{d(!0);try{await b(e).then(()=>{h((0,C.wd)(e.network_name)),s(!1),m.reset(),l()})}catch(r){h((0,C.B)(e.network_name,r))}finally{d(!1)}};async function N(){try{return await window.sorobanApi.openDirectory()}catch(e){console.error("Error: ".concat(e))}}return(0,n.jsx)(i.lG,{open:r,onOpenChange:()=>s(!1),children:(0,n.jsx)(i.Cf,{children:(0,n.jsx)(o.lV,{...m,children:(0,n.jsxs)("form",{onSubmit:m.handleSubmit(v),children:[(0,n.jsxs)(i.c7,{children:[(0,n.jsx)(i.L3,{children:"Create New Network"}),(0,n.jsx)(i.rr,{children:"Add a new network for Soroban"})]}),(0,n.jsxs)(g.F,{className:"max-h-[calc(70vh-106px)] overflow-y-auto",children:[(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"space-y-4 py-4 pb-4",children:[(0,n.jsx)("div",{className:"space-y-3",children:(0,n.jsx)(o.zB,{control:m.control,name:"network_name",render:e=>{let{field:r}=e;return(0,n.jsxs)(o.eI,{children:[(0,n.jsx)(o.lR,{className:"text-small",children:"Network Name"}),(0,n.jsx)(o.MJ,{children:(0,n.jsx)(u.p,{...r,placeholder:"Hello Soroban",className:"w-full"})}),(0,n.jsx)(o.C5,{})]})}})}),(0,n.jsx)("div",{className:"space-y-3",children:(0,n.jsx)(o.zB,{control:m.control,name:"rpc_url",render:e=>{let{field:r}=e;return(0,n.jsxs)(o.eI,{children:[(0,n.jsx)(o.lR,{className:"text-small",children:"RPC URL"}),(0,n.jsx)(o.MJ,{children:(0,n.jsx)(u.p,{...r,id:"rpc_url",placeholder:"http://localhost:1234"})}),(0,n.jsx)(o.C5,{})]})}})}),(0,n.jsx)("div",{className:"space-y-3",children:(0,n.jsx)(o.zB,{control:m.control,name:"network_passphrase",render:e=>{let{field:r}=e;return(0,n.jsxs)(o.eI,{children:[(0,n.jsx)(o.lR,{className:"text-small",children:"Network Passphrase"}),(0,n.jsx)(o.MJ,{children:(0,n.jsx)(u.p,{...r,id:"network_passphrase"})}),(0,n.jsx)(o.C5,{})]})}})}),(0,n.jsx)(c.nD,{type:"single",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"options",className:"pt-0",children:[(0,n.jsx)(c.$m,{children:"Options"}),(0,n.jsx)(c.ub,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"space-y-3",children:(0,n.jsx)(o.zB,{control:m.control,name:"global",render:e=>{let{field:r}=e;return(0,n.jsxs)(o.eI,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[(0,n.jsx)(o.MJ,{children:(0,n.jsx)(x.S,{checked:r.value,onCheckedChange:r.onChange})}),(0,n.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,n.jsx)(o.lR,{children:"Global"}),(0,n.jsx)(o.Rr,{children:"Use global config"})]})]})}})}),(0,n.jsx)("div",{className:"space-y-3",children:(0,n.jsx)(o.zB,{control:m.control,name:"config_dir",render:e=>{let{field:r}=e;return(0,n.jsxs)(o.eI,{children:[(0,n.jsx)(o.lR,{className:"text-small",children:"Config Directory (Testing)"}),(0,n.jsx)(o.MJ,{children:(0,n.jsxs)("div",{className:"flex w-full items-center space-x-2",children:[(0,n.jsx)(u.p,{type:"text",readOnly:!0,value:r.value}),(0,n.jsx)(p.$,{type:"button",onClick:()=>{N().then(e=>{e&&r.onChange(e)})},children:"Select"})]})}),(0,n.jsx)(o.C5,{})]})}})})]})})]})})]})}),(0,n.jsx)(g.$,{})]}),(0,n.jsxs)(i.Es,{children:[(0,n.jsx)(p.$,{variant:"outline",type:"button",onClick:()=>{s(!1)},children:"Cancel"}),t?(0,n.jsxs)(p.$,{type:"button",disabled:!0,children:[" ",(0,n.jsx)(j.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):(0,n.jsx)(p.$,{type:"submit",children:"Add"})]})]})})})})}function R(){return(0,n.jsxs)("div",{className:"rounded-lg border mt-4 p-4 flex-grow flex flex-col items-center justify-center",children:[" ",(0,n.jsx)("div",{className:"",children:(0,n.jsx)("h1",{className:"",children:"No networks found, add a network to list existing networks"})})]})}let S=N.Ik({network_name:N.Yj().min(3,"Network name must be at least 3 characters long.").max(50,"Network name must be at most 50 characters long."),global:N.zM().optional(),config_dir:N.Yj().optional()});async function A(e){try{let r=[e.network_name],s=[e.global?"--global":null,e.config_dir?'--config-dir "'.concat(e.config_dir,'"'):null].filter(Boolean);await window.sorobanApi.runSorobanCommand("network","rm",r,s),await window.sorobanApi.reloadApplication()}catch(e){throw e}}let B=e=>{let{network:r,onNetworkChange:s}=e,[l,t]=(0,a.useState)(!1),[m,v]=(0,a.useState)(!1),{toast:g}=(0,k.dj)(),N=(0,f.mN)({resolver:(0,w.u)(S),defaultValues:{network_name:r.name,global:!1}}),y=async e=>{v(!0);try{await A(e).then(()=>{g((0,C.M7)(e.network_name)),t(!1),N.reset(),s()})}catch(r){g((0,C.j7)(e.network_name,r))}finally{v(!1)}};async function b(){try{return await window.sorobanApi.openDirectory()}catch(e){console.error("Error: ".concat(e))}}return(0,n.jsxs)(d.Zp,{className:"col-span-1",children:[(0,n.jsx)(d.aR,{children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(h.eu,{className:"mr-4 h-10 w-10",children:(0,n.jsx)(h.BK,{src:"https://avatar.vercel.sh/".concat(r.name,".png"),alt:r.name})}),(0,n.jsxs)("div",{className:"flex flex-col space-y-1 overflow-hidden",children:[(0,n.jsx)(d.ZB,{className:"text-medium",children:r.name}),(0,n.jsx)(d.BT,{className:"truncate inline-flex items-center",children:r.rpc_url})]})]})}),(0,n.jsxs)(d.Wu,{className:"grid grid-cols-1 gap-4",children:[(0,n.jsx)(p.$,{className:"w-full",onClick:()=>t(!0),children:"Remove"}),(0,n.jsx)(i.lG,{open:l,onOpenChange:()=>t(!1),children:(0,n.jsx)(i.Cf,{children:(0,n.jsx)(o.lV,{...N,children:(0,n.jsxs)("form",{onSubmit:N.handleSubmit(y),children:[(0,n.jsxs)(i.c7,{className:"space-y-3",children:[(0,n.jsxs)(i.L3,{children:['Remove "',r.name,'"']}),(0,n.jsx)(i.rr,{children:"Remove this network from Soroban"})]}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"py-4 pb-6 space-y-3",children:[(0,n.jsx)("div",{className:"space-y-3",children:(0,n.jsx)(o.zB,{control:N.control,name:"network_name",render:e=>{let{field:s}=e;return(0,n.jsxs)(o.eI,{children:[(0,n.jsx)(o.lR,{className:"text-small",children:"Network Name"}),(0,n.jsx)(o.MJ,{children:(0,n.jsx)(u.p,{...s,id:"project_name",placeholder:r.name,disabled:!0})}),(0,n.jsx)(o.C5,{})]})}})}),(0,n.jsx)(c.nD,{type:"single",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"options",className:"pt-0",children:[(0,n.jsx)(c.$m,{children:"Options"}),(0,n.jsx)(c.ub,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"space-y-3",children:(0,n.jsx)(o.zB,{control:N.control,name:"global",render:e=>{let{field:r}=e;return(0,n.jsxs)(o.eI,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[(0,n.jsx)(o.MJ,{children:(0,n.jsx)(x.S,{checked:r.value,onCheckedChange:r.onChange})}),(0,n.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,n.jsx)(o.lR,{children:"Global"}),(0,n.jsx)(o.Rr,{children:"Use global config"})]})]})}})}),(0,n.jsx)("div",{className:"space-y-3",children:(0,n.jsx)(o.zB,{control:N.control,name:"config_dir",render:e=>{let{field:r}=e;return(0,n.jsxs)(o.eI,{children:[(0,n.jsx)(o.lR,{className:"text-small",children:"Config Directory (Testing)"}),(0,n.jsx)(o.MJ,{children:(0,n.jsxs)("div",{className:"flex w-full items-center space-x-2",children:[(0,n.jsx)(u.p,{type:"text",readOnly:!0,value:r.value}),(0,n.jsx)(p.$,{type:"button",onClick:()=>{b().then(e=>{e&&r.onChange(e)})},children:"Select"})]})}),(0,n.jsx)(o.C5,{})]})}})})]})})]})})]})}),(0,n.jsxs)(i.Es,{children:[(0,n.jsx)(p.$,{variant:"outline",type:"button",onClick:()=>{t(!1)},children:"Cancel"}),m?(0,n.jsxs)(p.$,{disabled:!0,children:[" ",(0,n.jsx)(j.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Removing..."]}):(0,n.jsx)(p.$,{type:"submit",variant:"destructive",children:"Remove"})]})]})})})})]})]},r.name)};function $(){let[e,r]=(0,a.useState)(!1),[s,l]=(0,a.useState)([]),[t,c]=(0,a.useState)("");async function o(){try{let e,r=await window.sorobanApi.runSorobanCommand("network","ls",["--long"]),s=/Name:\s*(\S+)[\s\S]*?rpc_url:\s*"([^"]+)"/g,n=[];for(;null!==(e=s.exec(r));){e.index===s.lastIndex&&s.lastIndex++;let r={name:e[1],rpc_url:e[2]};n.push(r)}l(n)}catch(e){console.log("Error listing networks:",e),l([])}}let i=async()=>{await o()};return(0,a.useEffect)(()=>{o()},[]),(0,n.jsxs)("div",{className:"flex flex-col h-[calc(100vh-106px)]",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(m.Fc,{className:"flex items-center justify-between py-6",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(v.A,{className:"h-5 w-5 mr-4"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)(m.XL,{children:["You have ",(null==s?void 0:s.length)?null==s?void 0:s.length:"0"," networks"]}),(0,n.jsx)(m.TN,{children:"You can add or remove your networks on this page."})]})]}),(0,n.jsx)(p.$,{onClick:()=>r(!0),children:"Create New Network"})]}),(0,n.jsx)(_,{showNewNetworkDialog:e,setShowNewNetworkDialog:r,onNetworkChange:i})]}),(null==s?void 0:s.length)>0?(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"my-6",children:(0,n.jsx)(u.p,{type:"search",placeholder:"Search for a network between ".concat(s.length," networks"),onChange:e=>{e.preventDefault(),c(e.target.value)},value:t})}),(0,n.jsxs)(g.F,{className:"h-[calc(100vh-300px)] overflow-y-auto",children:[(0,n.jsx)("div",{className:"grid grid-cols-3 gap-8",children:s.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())).map(e=>(0,n.jsx)(B,{network:e,onNetworkChange:i},e.name))}),(0,n.jsx)(g.$,{})]})]}):(0,n.jsx)(R,{})]})}var E=s(2936);let z=function(){return(0,E.s)("config-page-viewed"),(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(t(),{children:(0,n.jsx)("title",{children:"Config - Sora"})}),(0,n.jsx)($,{})]})}},2428:(e,r,s)=>{"use strict";s.d(r,{A:()=>n});let n=(0,s(5606).A)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},2936:(e,r,s)=>{"use strict";function n(e,r){let s,n;return s=this,n=function*(){if("undefined"==typeof window)return void console.error("Aptabase: to track events in the main process you must import 'trackEvent' from '@aptabase/electron/main'.");try{yield fetch("aptabase-ipc://trackEvent",{method:"POST",body:JSON.stringify({eventName:e,props:r})})}catch(e){console.error("Aptabase: Failed to send event",e)}},new Promise((e,r)=>{var a=e=>{try{t(n.next(e))}catch(e){r(e)}},l=e=>{try{t(n.throw(e))}catch(e){r(e)}},t=r=>r.done?e(r.value):Promise.resolve(r.value).then(a,l);t((n=n.apply(s,null)).next())})}s.d(r,{s:()=>n})},4322:(e,r,s)=>{e.exports=s(7749)},4869:(e,r,s)=>{"use strict";s.d(r,{Fc:()=>o,TN:()=>d,XL:()=>i});var n=s(6514),a=s(5834),l=s(4779),t=s(7588);let c=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=a.forwardRef((e,r)=>{let{className:s,variant:a,...l}=e;return(0,n.jsx)("div",{ref:r,role:"alert",className:(0,t.cn)(c({variant:a}),s),...l})});o.displayName="Alert";let i=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)("h5",{ref:r,className:(0,t.cn)("mb-1 font-medium leading-none tracking-tight",s),...a})});i.displayName="AlertTitle";let d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,t.cn)("text-sm [&_p]:leading-relaxed",s),...a})});d.displayName="AlertDescription"},6307:(e,r,s)=>{"use strict";s.d(r,{BT:()=>i,Wu:()=>d,ZB:()=>o,Zp:()=>t,aR:()=>c});var n=s(6514),a=s(5834),l=s(7588);let t=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});t.displayName="Card";let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});c.displayName="CardHeader";let o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)("h3",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});o.displayName="CardTitle";let i=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)("p",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});i.displayName="CardDescription";let d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent",a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},7444:(e,r,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return s(433)}])}},e=>{e.O(0,[636,593,792],()=>e(e.s=7444)),_N_E=e.O()}]);