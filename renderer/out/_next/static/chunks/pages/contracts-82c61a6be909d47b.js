(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{1658:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var s=a(6514),r=a(5834),l=a(4322),n=a.n(l),i=a(4525),o=a(6456),c=a.n(o),d=a(9433),m=a(4739),u=a(5507),x=a(4783),f=a(5773),p=a(7513);function h(e){var t,a,l;let{columns:n,data:o}=e,[c,h]=(0,r.useState)([]),[g,j]=(0,r.useState)([]),N=(0,d.N4)({data:o,columns:n,getCoreRowModel:(0,m.HT)(),getPaginationRowModel:(0,m.kW)(),onColumnFiltersChange:j,getFilteredRowModel:(0,m.hM)(),initialState:{pagination:{pageSize:5,pageIndex:0}},state:{sorting:c,columnFilters:g}});return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex items-center mt-3 mb-6",children:(0,s.jsx)(x.p,{placeholder:"Search Between Contracts",value:null!=(l=null==(t=N.getColumn("name"))?void 0:t.getFilterValue())?l:"",onChange:e=>{var t;return null==(t=N.getColumn("name"))?void 0:t.setFilterValue(e.target.value)},className:"w-full"})}),(0,s.jsx)("div",{className:"max-h-[calc(85vh-130px)] overflow-y-auto",children:(0,s.jsx)("div",{className:"rounded-md border ",children:(0,s.jsxs)(u.XI,{children:[(0,s.jsx)(u.A0,{children:N.getHeaderGroups().map(e=>(0,s.jsx)(u.Hj,{children:e.headers.map(e=>(0,s.jsx)(u.nd,{children:e.isPlaceholder?null:(0,d.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,s.jsx)(u.BF,{children:(null==(a=N.getRowModel().rows)?void 0:a.length)?N.getRowModel().rows.map(e=>(0,s.jsx)(u.Hj,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,s.jsx)(u.nA,{className:"h-16",children:(0,d.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,s.jsx)(u.Hj,{children:(0,s.jsx)(u.nA,{colSpan:n.length,className:"h-[54vh] text-center",children:"No canisters found with the given canister name!"})})})]})})}),(0,s.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,s.jsx)("div",{className:"flex-1 text-sm text-muted-foreground",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Rows per page"}),(0,s.jsxs)(p.l6,{value:"".concat(N.getState().pagination.pageSize),onValueChange:e=>{N.setPageSize(Number(e))},children:[(0,s.jsx)(p.bq,{className:"h-8 w-[70px]",children:(0,s.jsx)(p.yv,{placeholder:N.getState().pagination.pageSize})}),(0,s.jsx)(p.gC,{side:"top",children:[5,10,15].map(e=>(0,s.jsx)(p.eb,{value:"".concat(e),onClick:()=>N.setPageSize(e),children:e},e))})]})]})}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)("div",{className:"flex items-center w-[100px] justify-center text-sm font-medium",children:["Page ",N.getState().pagination.pageIndex+1," of"," ",N.getPageCount()]})}),(0,s.jsx)("div",{className:"flex items-center space-x-6 lg:space-x-8",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(i.$,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>N.setPageIndex(0),disabled:!N.getCanPreviousPage(),children:[(0,s.jsx)("span",{className:"sr-only",children:"Go to first page"}),(0,s.jsx)(f.jvd,{className:"h-4 w-4"})]}),(0,s.jsxs)(i.$,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>N.previousPage(),disabled:!N.getCanPreviousPage(),children:[(0,s.jsx)("span",{className:"sr-only",children:"Go to previous page"}),(0,s.jsx)(f.YJP,{className:"h-4 w-4"})]}),(0,s.jsxs)(i.$,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>N.nextPage(),disabled:!N.getCanNextPage(),children:[(0,s.jsx)("span",{className:"sr-only",children:"Go to next page"}),(0,s.jsx)(f.vKP,{className:"h-4 w-4"})]}),(0,s.jsxs)(i.$,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>N.setPageIndex(N.getPageCount()-1),disabled:!N.getCanNextPage(),children:[(0,s.jsx)("span",{className:"sr-only",children:"Go to last page"}),(0,s.jsx)(f.QZK,{className:"h-4 w-4"})]})]})})]})]})}function g(){return(0,s.jsxs)("div",{className:"rounded-lg border mt-4 p-4 flex-grow flex flex-col items-center justify-center",children:[" ",(0,s.jsx)("div",{className:"",children:(0,s.jsx)("h1",{className:"",children:"No contracts found, create or add a project to list existing contracts."})})]})}var j=a(3530);function N(){let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(!1),n=function(){let[e,t]=(0,r.useState)([]);async function a(){try{let e=(await window.sorobanApi.manageProjects("get")).map(e=>({name:e.name,path:e.path,active:e.active}));t(e)}catch(e){console.error("Error fetching projects:",e),t([])}}return(0,r.useEffect)(()=>{a()},[]),e}();async function o(e){l(!0);try{let a=(await window.sorobanApi.listContracts(e)).map(t=>{var a;return{name:t.split("/").pop().replace(".rs",""),filePath:t,projectName:(null==(a=n.find(t=>t.path===e))?void 0:a.name)||"Unknown Project",projectPath:e}});t(e=>[...e,...a])}catch(e){console.error("Error invoking remote method:",e)}finally{l(!1)}}(0,r.useEffect)(()=>{n.length&&(t([]),n.forEach(e=>{o(e.path)}))},[n]);let d=[{accessorKey:"name",header:"Main Contract"},{accessorKey:"projectName",header:"Project Name"},{accessorKey:"details",header:()=>(0,s.jsx)("div",{className:"text-right",children:"Action"}),cell:e=>{let{row:t}=e;return(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)(c(),{href:"/contracts/".concat(encodeURIComponent(t.original.projectPath)),children:(0,s.jsx)(i.$,{children:"Contract Actions"})})})}}];return(0,s.jsx)("div",{className:"flex flex-col h-[calc(100vh-106px)]",children:a?(0,s.jsx)(j.A,{}):e.length>0?(0,s.jsx)(h,{columns:d,data:e}):(0,s.jsx)(g,{})})}var v=a(2936);let w=function(){return(0,v.s)("contracts-page-viewed"),(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(n(),{children:(0,s.jsx)("title",{children:"Contracts - Sora"})}),(0,s.jsx)(N,{})]})}},2936:(e,t,a)=>{"use strict";function s(e,t){let a,s;return a=this,s=function*(){if("undefined"==typeof window)return void console.error("Aptabase: to track events in the main process you must import 'trackEvent' from '@aptabase/electron/main'.");try{yield fetch("aptabase-ipc://trackEvent",{method:"POST",body:JSON.stringify({eventName:e,props:t})})}catch(e){console.error("Aptabase: Failed to send event",e)}},new Promise((e,t)=>{var r=e=>{try{n(s.next(e))}catch(e){t(e)}},l=e=>{try{n(s.throw(e))}catch(e){t(e)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(r,l);n((s=s.apply(a,null)).next())})}a.d(t,{s:()=>s})},3530:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(6514),r=a(8245),l=a.n(r);function n(){return(0,s.jsx)("div",{className:"rounded-lg border mt-4 p-4 flex-grw flex flex-col items-center justify-center",children:(0,s.jsx)(l(),{src:"/images/soroban-light.svg",alt:"Loading...",className:"animate-pulse",width:70,height:70})})}},5507:(e,t,a)=>{"use strict";a.d(t,{A0:()=>i,BF:()=>o,Hj:()=>c,XI:()=>n,nA:()=>m,nd:()=>d});var s=a(6514),r=a(5834),l=a(7588);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",a),...r})})});n.displayName="Table";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",a),...r})});i.displayName="TableHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",a),...r})});o.displayName="TableBody",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});c.displayName="TableRow";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});d.displayName="TableHead";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});m.displayName="TableCell",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption"},7513:(e,t,a)=>{"use strict";a.d(t,{bq:()=>x,eb:()=>g,gC:()=>h,l6:()=>d,mi:()=>j,s3:()=>m,yv:()=>u});var s=a(6514),r=a(5834),l=a(2357),n=a(107),i=a(9854),o=a(1007),c=a(7588);let d=l.bL,m=l.YJ,u=l.WT,x=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(l.l9,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[r,(0,s.jsx)(l.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=l.l9.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.PP,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=l.PP.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.wn,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=l.wn.displayName;let h=r.forwardRef((e,t)=>{let{className:a,children:r,position:n="popper",...i}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsxs)(l.UC,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...i,children:[(0,s.jsx)(f,{}),(0,s.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(p,{})]})})});h.displayName=l.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.JU,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=l.JU.displayName;let g=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(l.q7,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),(0,s.jsx)(l.p4,{children:r})]})});g.displayName=l.q7.displayName;let j=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});j.displayName=l.wv.displayName},9751:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/contracts",function(){return a(1658)}])}},e=>{e.O(0,[615,433,636,593,792],()=>e(e.s=9751)),_N_E=e.O()}]);